---
layout: archive
title: Zulip Chat Archive
permalink: /stream/218635-Backdrop/topic/config_set.html
---

<h2>Stream: <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/index.html">Backdrop</a></h2>
<h3>Topic: <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/config_set.html">config_set</a></h3>

<hr>

<base href="backdrop.zulipchat.com">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="214801398"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/config_set/near/214801398" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alan Mels <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/config_set.html#214801398">(Oct 28 2020 at 07:05)</a>:</h4>
<p>API page on <a href="https://api.backdropcms.org/api/backdrop/core%21includes%21config.inc/function/config_set/1">https://api.backdropcms.org/api/backdrop/core%21includes%21config.inc/function/config_set/1</a> says:</p>
<blockquote>
<p>string $option: The name of the config option within the file to set. The config option may contain periods to indicate levels within the config file.</p>
</blockquote>
<p>Unfortunately, I could not find any examples on <a href="https://api.backdropcms.org/api/backdrop/core%21includes%21config.inc/function/calls/config_set/1">https://api.backdropcms.org/api/backdrop/core%21includes%21config.inc/function/calls/config_set/1</a> of config option that contain periods. Could anyone point me out to real use of periods for levels within the config file?</p>
<p>As I understand this feature might be used to set array values. Does config_set allow to set array values at all?</p>



<a name="214804527"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/config_set/near/214804527" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> findlabnet(Vladimir) <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/config_set.html#214804527">(Oct 28 2020 at 07:59)</a>:</h4>
<p>I did something like this:</p>
<div class="codehilite" data-code-language="PHP"><pre><span></span><code><span class="x">...</span>
<span class="x">  foreach (array_keys(node_type_get_names()) as $node_type) {</span>
<span class="x">    $protected_forms[] = 'comment_node_' . $node_type . '_form';</span>
<span class="x">  }</span>

<span class="x">  if (module_exists('contact')) {</span>
<span class="x">    $protected_forms[] = 'contact_site_form';</span>
<span class="x">  }</span>

<span class="x">  ...</span>
<span class="x">  $config-&gt;set('protected_forms', $protected_forms);</span>

<span class="x">$config-&gt;save();</span>
</code></pre></div>

<p>Because config_set is just a wrapper you can try something like this.</p>



<a name="214805480"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/config_set/near/214805480" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> indigoxela <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/config_set.html#214805480">(Oct 28 2020 at 08:12)</a>:</h4>
<blockquote>
<p>The config option may contain periods to indicate levels within the config file. ... I  could not find any examples</p>
</blockquote>
<p>Here's one: <a href="https://github.com/backdrop-contrib/i18n/blob/5deeb563c9ba4d349f91b83c3564944e6ff51b61/i18n_node/i18n_node.admin.inc#L42">https://github.com/backdrop-contrib/i18n/blob/5deeb563c9ba4d349f91b83c3564944e6ff51b61/i18n_node/i18n_node.admin.inc#L42</a></p>
<p>Yes, nested array values via dots are possible.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/backdrop-contrib/i18n/blob/5deeb563c9ba4d349f91b83c3564944e6ff51b61/i18n_node/i18n_node.admin.inc#L42" style="background-image: url(https://avatars1.githubusercontent.com/u/7720679?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/backdrop-contrib/i18n/blob/5deeb563c9ba4d349f91b83c3564944e6ff51b61/i18n_node/i18n_node.admin.inc#L42" title="backdrop-contrib/i18n">backdrop-contrib/i18n</a></div><div class="message_embed_description">Collection of modules to extend Backdrop CMS multilingual capabilities - backdrop-contrib/i18n</div></div></div>



<a name="214882361"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/config_set/near/214882361" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alan Mels <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/config_set.html#214882361">(Oct 28 2020 at 18:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256738">indigoxela</span> <a href="#narrow/stream/218635-Backdrop/topic/config_set/near/214805480">said</a>:</p>
<blockquote>
<blockquote>
<p>The config option may contain periods to indicate levels within the config file. ... I  could not find any examples</p>
</blockquote>
<p>Here's one: <a href="https://github.com/backdrop-contrib/i18n/blob/5deeb563c9ba4d349f91b83c3564944e6ff51b61/i18n_node/i18n_node.admin.inc#L42">https://github.com/backdrop-contrib/i18n/blob/5deeb563c9ba4d349f91b83c3564944e6ff51b61/i18n_node/i18n_node.admin.inc#L42</a></p>
<p>Yes, nested array values via dots are possible.</p>
</blockquote>
<p>Thanks for the link, I will try to use this method to update array member value. For now, it's possible to set/update the whole array using <code>brush config-set</code>:</p>
<div class="codehilite"><pre><span></span><code>brush help config-set
Set a configuration key.

Examples:
+--------------------------------------------------+-----------------------------------------------------------------------------------+
| brush config-set --yes preprocess_css 1          | Set the preprocess_css variable to true.                                          |
| brush cset system.core                           | Set severity of logs to Emergency &amp; Alert. See /admin/config/development/logging. |
| watchdog_enabled_severity_levels &#39;{&quot;0&quot;:0,&quot;1&quot;:1}&#39; |                                                                                   |
+--------------------------------------------------+-----------------------------------------------------------------------------------+


Arguments:
+-------------------------------+-----------------------------------------------------------------------------+
| config-name                   | The configuration object name, for example &quot;system.core&quot;.                   |
| key                           | The config key, for example &quot;site_slogan&quot;.                                  |
| value                         | The value to assign to the config key. Arrays can be input as JSON strings. |
+-------------------------------+-----------------------------------------------------------------------------+


Options:
+-------------------------------+------------------------------------------------------+
| --yes                         | Skip confirmation if only one variable name matches. |
| --always-set                  | Always skip confirmation.                            |
+-------------------------------+------------------------------------------------------+


Aliases: cset, vset
</code></pre></div>



{% endraw %}

<hr><p>Last updated: Apr 05 2021 at 23:47 UTC</p>