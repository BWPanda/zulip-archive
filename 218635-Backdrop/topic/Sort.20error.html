---
layout: archive
title: Zulip Chat Archive
permalink: /stream/218635-Backdrop/topic/Sort.20error.html
---

<h2>Stream: <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/index.html">Backdrop</a></h2>
<h3>Topic: <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html">Sort error</a></h3>

<hr>

<base href="backdrop.zulipchat.com">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="226178080"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226178080" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erica Cavanaugh <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226178080">(Feb 12 2021 at 18:35)</a>:</h4>
<p>Hello, I am new here and recently ran into the below error message when visiting any of the content type configure pages (admin/structure/types/manage/content-type)</p>
<p>Argument 1 passed to backdrop_sort() must be of the type array, null given, called in /home/modernis/backdropv2.modernistarchives.com/core/includes/token.inc on line 320</p>
<p>Currently running Backdrop v. 1.18.1</p>



<a name="226178082"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226178082" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dragonbot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226178082">(Feb 12 2021 at 18:35)</a>:</h4>
<p>Hi, Erica Cavanaugh. Welcome to the Backdrop CMS community on Zulip. I'm your friendly neighborhood Dragonbot. Try '@Dragonbot help' for a list of things I can help you with. There are lots of friendly humans that hang around here, so please feel free to ask questions. </p>
<p>Here is a short (3 min) video to help you navigate Zulip. <a href="https://youtu.be/DN8YL2MrsSU">https://youtu.be/DN8YL2MrsSU</a></p>
<div class="youtube-video message_inline_image"><a data-id="DN8YL2MrsSU" href="https://youtu.be/DN8YL2MrsSU"><img src="https://i.ytimg.com/vi/DN8YL2MrsSU/default.jpg"></a></div>



<a name="226179766"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226179766" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joseph Flatt <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226179766">(Feb 12 2021 at 18:50)</a>:</h4>
<p>Hello. <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>



<a name="226179823"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226179823" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joseph Flatt <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226179823">(Feb 12 2021 at 18:51)</a>:</h4>
<p>Is this a site being ported from Drupal 7?</p>



<a name="226180006"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226180006" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joseph Flatt <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226180006">(Feb 12 2021 at 18:52)</a>:</h4>
<p>Or is this an existing Backdrop site that was updated to 1.18.1?</p>



<a name="226182560"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226182560" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erica Cavanaugh <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226182560">(Feb 12 2021 at 19:14)</a>:</h4>
<p>It's being ported from Drupal 7</p>



<a name="226184320"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226184320" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joseph Flatt <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226184320">(Feb 12 2021 at 19:30)</a>:</h4>
<p>Ok, have you been able to update all of the contributed modules that you were using on the Drupal 7 site?</p>



<a name="226184400"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226184400" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joseph Flatt <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226184400">(Feb 12 2021 at 19:31)</a>:</h4>
<p>I suspect that there is a module on your site that depends on token, but that has not been ported to Backdrop yet</p>



<a name="226186123"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226186123" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oadaeh (Jason Flatt) <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226186123">(Feb 12 2021 at 19:45)</a>:</h4>
<p>The Token module "...is included in core Backdrop 1.1.0, so you no longer need this module."</p>



<a name="226186188"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226186188" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oadaeh (Jason Flatt) <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226186188">(Feb 12 2021 at 19:45)</a>:</h4>
<p><a href="https://github.com/backdrop-contrib/token">https://github.com/backdrop-contrib/token</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/backdrop-contrib/token" style="background-image: url(https://avatars.githubusercontent.com/u/7720679?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/backdrop-contrib/token" title="backdrop-contrib/token">backdrop-contrib/token</a></div><div class="message_embed_description">Provides missing core tokens and a user-interface for selecting tokens. - backdrop-contrib/token</div></div></div>



<a name="226187146"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226187146" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oadaeh (Jason Flatt) <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226187146">(Feb 12 2021 at 19:52)</a>:</h4>
<p>Maybe try clearing your caches. Based on the code in token_get_info() it looks like it will rebuild the data if you do that.<br>
<a href="https://github.com/backdrop/backdrop/blob/ac819913fdb7aadcec9c7579fd33920327526792/core/includes/token.inc#L282">https://github.com/backdrop/backdrop/blob/ac819913fdb7aadcec9c7579fd33920327526792/core/includes/token.inc#L282</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/backdrop/backdrop/blob/ac819913fdb7aadcec9c7579fd33920327526792/core/includes/token.inc#L282" style="background-image: url(https://avatars.githubusercontent.com/u/5283039?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/backdrop/backdrop/blob/ac819913fdb7aadcec9c7579fd33920327526792/core/includes/token.inc#L282" title="backdrop/backdrop">backdrop/backdrop</a></div><div class="message_embed_description">Backdrop core code repository. Contribute to backdrop/backdrop development by creating an account on GitHub.</div></div></div>



<a name="226191411"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226191411" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erica Cavanaugh <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226191411">(Feb 12 2021 at 20:24)</a>:</h4>
<p>Thanks so much for your help on this. <br>
There was one module that wasn't supported. I've removed it as it was already disabled.  I also cleared the caches but the problem still persists. </p>
<p>We are using the Partial Date module and don't know if that could be the issue.</p>



<a name="226194298"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226194298" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oadaeh (Jason Flatt) <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226194298">(Feb 12 2021 at 20:50)</a>:</h4>
<p>You're going to have to get into the code and data to see what is not right.<br>
As the error states, backdrop_sort() is expecting an array, but it's being called with an empty value. The variable is being created by a call to token_info(), here:<br>
<a href="https://github.com/backdrop/backdrop/blob/ac819913fdb7aadcec9c7579fd33920327526792/core/includes/token.inc#L301">https://github.com/backdrop/backdrop/blob/ac819913fdb7aadcec9c7579fd33920327526792/core/includes/token.inc#L301</a><br>
So I would check what is being returned there and maybe also place a call to debug_backtrace() there to see what started the whole operation.<br>
Some code somewhere is probably setting a token in a way that is not compatible with Backdrop. Any converted Drupal module or theme code would be suspect.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/backdrop/backdrop/blob/ac819913fdb7aadcec9c7579fd33920327526792/core/includes/token.inc#L301" style="background-image: url(https://avatars.githubusercontent.com/u/5283039?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/backdrop/backdrop/blob/ac819913fdb7aadcec9c7579fd33920327526792/core/includes/token.inc#L301" title="backdrop/backdrop">backdrop/backdrop</a></div><div class="message_embed_description">Backdrop core code repository. Contribute to backdrop/backdrop development by creating an account on GitHub.</div></div></div>



<a name="226198974"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226198974" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226198974">(Feb 12 2021 at 21:34)</a>:</h4>
<p>Weird tho, why NULL? Shouldnt <code>$token_info['types']</code> always have a value? <code>$token_info</code> is the result of invoking <code>hook_token_info()</code> and at the very least the core tokens return a <code>type</code> key. So types shouldnt be empty. Maybe something somewhere is calling a <code>hook_token_info_alter()</code> and messing up <code>types</code>?</p>



<a name="226202741"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226202741" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laryn <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226202741">(Feb 12 2021 at 22:08)</a>:</h4>
<p><span class="user-mention" data-user-id="389290">@Erica Cavanaugh</span> If it's not obnoxiously long, can you list the modules you've got installed?</p>



<a name="226205616"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226205616" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erica Cavanaugh <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226205616">(Feb 12 2021 at 22:35)</a>:</h4>
<p><a href="/user_uploads/18319/Ad9N6iwq3h-r5t5JJmFhzOc2/ModuleList-1of5.png">ModuleList-1of5.png</a> <a href="/user_uploads/18319/4AlfUMKfEU8bChPvfVUYM332/ModuleList-2of5.png">ModuleList-2of5.png</a> <a href="/user_uploads/18319/tABs40anxx97xwtK5pOoD4OR/ModuleList-3of5.png">ModuleList-3of5.png</a> <a href="/user_uploads/18319/f00y-xYY2Yu6Ap47mgAsnOcR/ModuleList-4of5.png">ModuleList-4of5.png</a> <a href="/user_uploads/18319/bK0xfqOwNlNkkJ5drrOLabcs/ModuleList-5of5.png">ModuleList-5of5.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/18319/Ad9N6iwq3h-r5t5JJmFhzOc2/ModuleList-1of5.png" title="ModuleList-1of5.png"><img src="/user_uploads/18319/Ad9N6iwq3h-r5t5JJmFhzOc2/ModuleList-1of5.png"></a></div><div class="message_inline_image"><a href="/user_uploads/18319/4AlfUMKfEU8bChPvfVUYM332/ModuleList-2of5.png" title="ModuleList-2of5.png"><img src="/user_uploads/18319/4AlfUMKfEU8bChPvfVUYM332/ModuleList-2of5.png"></a></div><div class="message_inline_image"><a href="/user_uploads/18319/tABs40anxx97xwtK5pOoD4OR/ModuleList-3of5.png" title="ModuleList-3of5.png"><img src="/user_uploads/18319/tABs40anxx97xwtK5pOoD4OR/ModuleList-3of5.png"></a></div><div class="message_inline_image"><a href="/user_uploads/18319/f00y-xYY2Yu6Ap47mgAsnOcR/ModuleList-4of5.png" title="ModuleList-4of5.png"><img src="/user_uploads/18319/f00y-xYY2Yu6Ap47mgAsnOcR/ModuleList-4of5.png"></a></div><div class="message_inline_image"><a href="/user_uploads/18319/bK0xfqOwNlNkkJ5drrOLabcs/ModuleList-5of5.png" title="ModuleList-5of5.png"><img src="/user_uploads/18319/bK0xfqOwNlNkkJ5drrOLabcs/ModuleList-5of5.png"></a></div>



<a name="226205737"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226205737" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erica Cavanaugh <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226205737">(Feb 12 2021 at 22:36)</a>:</h4>
<p><span class="user-mention" data-user-id="256573">@Laryn</span> It was easier to do screenshots of the module list instead of listing them<br>
And everything is up to dat</p>



<a name="226207730"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226207730" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laryn <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226207730">(Feb 12 2021 at 22:57)</a>:</h4>
<p><span class="user-mention" data-user-id="389290">@Erica Cavanaugh</span> <br>
If I had to guess I'd first try some of the modules without formal releases. </p>
<p>Where is the code from Partial Date coming from? (I don't see it on <code>backdrop-contrib</code>)</p>



<a name="226208589"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226208589" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oadaeh (Jason Flatt) <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226208589">(Feb 12 2021 at 23:06)</a>:</h4>
<p>My guess is here: <a href="https://www.drupal.org/project/partial_date">https://www.drupal.org/project/partial_date</a></p>



<a name="226208833"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226208833" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oadaeh (Jason Flatt) <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226208833">(Feb 12 2021 at 23:09)</a>:</h4>
<p>There's no "token" in that module's code.</p>



<a name="226234664"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226234664" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Phil Ward <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226234664">(Feb 13 2021 at 08:41)</a>:</h4>
<p>I wouldn't think Comments would cause it, but that is the one module I see that would be consistent between all content types. Might try disabling it <span class="user-mention" data-user-id="389290">@Erica Cavanaugh</span> and see what happens. It's a complete shot in the dark but that's about as far as my expertise goes.</p>



<a name="226246555"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226246555" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erica Cavanaugh <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226246555">(Feb 13 2021 at 14:09)</a>:</h4>
<p>Regarding the partial date module, I believe it is actually coming from a branch that was being maintained by Agile Humanities, <a href="https://github.com/agile-humanities/agile_partial_date">https://github.com/agile-humanities/agile_partial_date</a><br>
I am in getting some more information on my predecessor on this as we are transitioning site maintenance from her to me.</p>
<p>I tried disabling the comments and clearing the cache, but no luck there. One thing, it only happens for the path (admin/structure/types/manage/content-type) and not for any of the sub pages. So editing the fields and display of current content types is possible but we are unable to add any new ones as the configure page is unreachable with the error. </p>
<p>I am going to start the process of disabling one by one to see if I can pinpoint the culprit that way</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/agile-humanities/agile_partial_date" style="background-image: url(https://avatars.githubusercontent.com/u/9409860?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/agile-humanities/agile_partial_date" title="agile-humanities/agile_partial_date">agile-humanities/agile_partial_date</a></div><div class="message_embed_description">Fork of Partial Date module to include feed support - agile-humanities/agile_partial_date</div></div></div>



<a name="226247975"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226247975" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laryn <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226247975">(Feb 13 2021 at 14:43)</a>:</h4>
<p><span class="user-mention" data-user-id="389290">@Erica Cavanaugh</span> yes, turning off modules one by one to test is a good approach. Let us know what you discover.</p>



<a name="226249919"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226249919" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erica Cavanaugh <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226249919">(Feb 13 2021 at 15:25)</a>:</h4>
<p>It's the Path module. Turning it off allows access to the content type configuration pages. Turning it back on, makes them inaccessible again and going to admin/config/urls/path/patterns gives the below error. Also there are no options to set the URL alias patterns visible<br>
Warning: Invalid argument supplied for foreach() in path_patterns_form() (line 357 of /home/modernis/backdropdebug.modernistarchives.com/core/modules/path/path.admin.inc)</p>



<a name="226250848"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226250848" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> indigoxela <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226250848">(Feb 13 2021 at 15:44)</a>:</h4>
<p><span class="user-mention" data-user-id="389290">@Erica Cavanaugh</span> Can you export your existing path configuration? Go to admin/config/development/configuration/single/export and choose </p>
<ul>
<li>Configuration Group: Configuration</li>
<li>Configuration name: Path settings</li>
</ul>
<p>This should be in json format and contain something like for instance <code>"node_page_pattern": "[node:title]",</code> - or are you unable to export that file?</p>



<a name="226251244"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226251244" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> indigoxela <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226251244">(Feb 13 2021 at 15:53)</a>:</h4>
<p>A quick idea... Copy the default file content from source code: <a href="https://github.com/backdrop/backdrop/blob/1.x/core/modules/path/config/path.settings.json">https://github.com/backdrop/backdrop/blob/1.x/core/modules/path/config/path.settings.json</a></p>
<p>And import that into admin/config/development/configuration/single - with the path module enabled. If after flushing all caches, the errors go away, possibly something went wrong when migrating the path patterns of your Drupal site. I'm aware, that's no solution yet, but at least a hint where to dig further.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/backdrop/backdrop/blob/1.x/core/modules/path/config/path.settings.json" style="background-image: url(https://avatars.githubusercontent.com/u/5283039?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/backdrop/backdrop/blob/1.x/core/modules/path/config/path.settings.json" title="backdrop/backdrop">backdrop/backdrop</a></div><div class="message_embed_description">Backdrop core code repository. Contribute to backdrop/backdrop development by creating an account on GitHub.</div></div></div>



<a name="226253175"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226253175" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erica Cavanaugh <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226253175">(Feb 13 2021 at 16:24)</a>:</h4>
<p>Here are the path settings</p>
<p>{<br>
    "_config_name": "path.settings",<br>
    "_config_static": true,<br>
    "verbose": false,<br>
    "separator": "-",<br>
    "case": 1,<br>
    "max_length": 100,<br>
    "max_component_length": 100,<br>
    "update_action": 2,<br>
    "transliterate": false,<br>
    "reduce_ascii": false,<br>
    "ignore_words": "",<br>
    "punctuation_double_quotes": 0,<br>
    "punctuation_quotes": 0,<br>
    "punctuation_backtick": 0,<br>
    "punctuation_comma": 0,<br>
    "punctuation_period": 0,<br>
    "punctuation_hyphen": 1,<br>
    "punctuation_underscore": 0,<br>
    "punctuation_colon": 0,<br>
    "punctuation_semicolon": 0,<br>
    "punctuation_pipe": 0,<br>
    "punctuation_left_curly": 0,<br>
    "punctuation_left_square": 0,<br>
    "punctuation_right_curly": 0,<br>
    "punctuation_right_square": 0,<br>
    "punctuation_plus": 0,<br>
    "punctuation_equal": 0,<br>
    "punctuation_asterisk": 0,<br>
    "punctuation_ampersand": 0,<br>
    "punctuation_percent": 0,<br>
    "punctuation_caret": 0,<br>
    "punctuation_dollar": 0,<br>
    "punctuation_hash": 0,<br>
    "punctuation_at": 0,<br>
    "punctuation_exclamation": 0,<br>
    "punctuation_tilde": 0,<br>
    "punctuation_left_parenthesis": 0,<br>
    "punctuation_right_parenthesis": 0,<br>
    "punctuation_question_mark": 0,<br>
    "punctuation_less_than": 0,<br>
    "punctuation_greater_than": 0,<br>
    "punctuation_slash": 0,<br>
    "punctuation_back_slash": 0,<br>
    "node_pattern": "content/[node:title]",<br>
    "taxonomy_term_pattern": "[term:vocabulary]/[term:name]",<br>
    "user_pattern": "users/[user:name]",<br>
    "node_page_pattern": "",<br>
    "node_post_pattern": "posts/[node:title]",<br>
    "blog_pattern": "blogs/[user:name]",<br>
    "forum_pattern": "[term:vocabulary]/[term:name]",<br>
    "node_biblio_pattern": "biblio/[node:title]",<br>
    "node_blog_pattern": "",<br>
    "node_business_pattern": "business/[node:title]",<br>
    "node_correspondence_pattern": "correspondence/[node:title]",<br>
    "node_edition_pattern": "edition/[node:title]",<br>
    "node_library_pattern": "library/[node:title]",<br>
    "node_partner_pattern": "partner/[node:title]",<br>
    "node_person_pattern": "person/[node:title]",<br>
    "node_primary_object_pattern": "object/[node:title]",<br>
    "node_related_materials_pattern": "related/[node:title]",<br>
    "node_work_pattern": "work/[node:title]",<br>
    "taxonomy_term_business_type_pattern": "",<br>
    "taxonomy_term_condition_pattern": "",<br>
    "taxonomy_term_copyright_status_pattern": "",<br>
    "taxonomy_term_correspondence_type_pattern": "",<br>
    "taxonomy_term_damage_pattern": "",<br>
    "taxonomy_term_edition_pattern": "",<br>
    "taxonomy_term_gender_pattern": "",<br>
    "taxonomy_term_genre_pattern": "",<br>
    "taxonomy_term_language_pattern": "",<br>
    "taxonomy_term_occupation_pattern": "",<br>
    "taxonomy_term_partner_type_pattern": "",<br>
    "taxonomy_term_publication_process_pattern": "",<br>
    "taxonomy_term_relationship_type_pattern": "",<br>
    "taxonomy_term_tags_pattern": "",<br>
    "taxonomy_term_work_type_pattern": ""<br>
}</p>



<a name="226253520"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226253520" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erica Cavanaugh <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226253520">(Feb 13 2021 at 16:30)</a>:</h4>
<p>Unfortunately importing the default file didn't work</p>



<a name="226257494"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226257494" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laryn <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226257494">(Feb 13 2021 at 17:44)</a>:</h4>
<p><span class="user-mention" data-user-id="389290">@Erica Cavanaugh</span> "didn't work" -- can you provide more detail? Was there an error message? What happened?</p>



<a name="226258384"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226258384" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erica Cavanaugh <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226258384">(Feb 13 2021 at 18:00)</a>:</h4>
<p>Sorry, there wasn't any change in error messages or functionality. The error messages at admin/config/urls/path/patterns and admin/structure/types/manage/content-type both remained the same</p>



<a name="226259535"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226259535" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laryn <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226259535">(Feb 13 2021 at 18:24)</a>:</h4>
<p>Thanks. Just to make these easier to reach:</p>
<blockquote>
<p><strong>admin/structure/types/manage/page</strong><br>
<code>Argument 1 passed to backdrop_sort() must be of the type array, null given, called in /webroot/core/includes/token.inc on line 320</code></p>
</blockquote>
<blockquote>
<p><strong>admin/config/urls/path/patterns</strong><br>
<code>Warning: Invalid argument supplied for foreach() in path_patterns_form() (line 357 of /webroot/core/modules/path/path.admin.inc)</code></p>
</blockquote>



<a name="226271247"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226271247" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> klonos <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226271247">(Feb 13 2021 at 22:07)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="389290">@Erica Cavanaugh</span> <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> ...may I offer some thoughts/ideas as well? ...is Seven being used as the admin theme, or has it perhaps been subthemed and the subtheme being used instead (look at the bottom of the <code>admin/appearance</code> page)?<br>
to help you further, can you please have a look in <code>admin/reports/status</code> and provide the following:</p>
<ul>
<li>which Backdrop core version is the site using (and do you know if the official version is used or if it has been manually patched?)</li>
<li>which php version</li>
<li>which web server and its version</li>
<li>which database and version</li>
</ul>



<a name="226277589"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226277589" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erica Cavanaugh <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226277589">(Feb 14 2021 at 00:42)</a>:</h4>
<p>Seven is being used as the Admin theme<br>
Backdrop core: 1.18.1<br>
PHP: 7.4.11<br>
Server: Apaches (trying to check on the version)<br>
Database: MySQL, MariaDB, or equivalent version 5.5.5-10.3.27-MariaDB<br>
*I'm looking into getting more specifics regarding the server version and whether it is MySQL or MariaDB. It is being hosted by Reclaim, so I think they are using MySQL</p>



<a name="226278255"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226278255" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226278255">(Feb 14 2021 at 01:00)</a>:</h4>
<p>Are you able to use Devel to inspect the code?</p>



<a name="226291419"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226291419" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> indigoxela <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226291419">(Feb 14 2021 at 07:53)</a>:</h4>
<blockquote>
<p>Unfortunately importing the default file didn't work</p>
</blockquote>
<p><span class="user-mention" data-user-id="389290">@Erica Cavanaugh</span> there's an alternate way to reset the path config to default values, if you have direct access to the file system:</p>
<p>Copy the file <code>core/modules/path/config/path.settings.json</code> to your active config <code>files/config_[your hash here]/active/path.settings.json</code> and flush all caches. Does that work? If that fixes the problem, then the problem has to do with the config file contents - it looks OK, though, at first sight. I was able to import it in a fresh install and it didn't cause any trouble. <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> </p>
<p>Are there additional error messages in your dblog? (admin/reports/dblog) Related or unrelated to paths.</p>



<a name="226319158"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226319158" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erica Cavanaugh <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226319158">(Feb 14 2021 at 18:54)</a>:</h4>
<p><span class="user-mention" data-user-id="256757">@docwilmot</span>  Devel is enabled, but honestly I'm not really sure what to look for</p>



<a name="226319350"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226319350" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erica Cavanaugh <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226319350">(Feb 14 2021 at 18:59)</a>:</h4>
<p><span class="user-mention" data-user-id="256738">@indigoxela</span> reseting the path configuration via the file system produced the same results/same errors still appearing. I did notice that when the cache is cleared, a couple more errors appear.</p>
<div class="codehilite"><pre><span></span><code>Notice: Undefined index: types in token_get_token_problems() (line 425 of /home/modernis/backdropdebug.modernistarchives.com/core/includes/token.inc).
Warning: Invalid argument supplied for foreach() in token_get_token_problems() (line 425 of /home/modernis/backdropdebug.modernistarchives.com/core/includes/token.inc).
Notice: Undefined index: tokens in token_get_token_problems() (line 440 of /home/modernis/backdropdebug.modernistarchives.com/core/includes/token.inc).
Warning: Invalid argument supplied for foreach() in token_get_token_problems() (line 440 of /home/modernis/backdropdebug.modernistarchives.com/core/includes/token.inc).
TypeError: Argument 1 passed to backdrop_sort() must be of the type array, null given, called in /home/modernis/backdropdebug.modernistarchives.com/core/includes/token.inc on line 320 in backdrop_sort() (line 7176 of /home/modernis/backdropdebug.modernistarchives.com/core/includes/common.inc).
</code></pre></div>
<p>Upon using Backup and Migrate to get a database export at admin/config/system/backup_migrate/export/advanced, the initial sort error appears as well. This one does not go away when disabling the Path module</p>
<div class="codehilite"><pre><span></span><code>Argument 1 passed to backdrop_sort() must be of the type array, null given, called in /webroot/core/includes/token.inc on line 320
</code></pre></div>



<a name="226319544"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226319544" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erica Cavanaugh <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226319544">(Feb 14 2021 at 19:03)</a>:</h4>
<p>There has been a feeds related error repeatedly appearing, that Quinn has been working on and we don't think is related.</p>
<div class="codehilite"><pre><span></span><code>Notice: Undefined index: module in feeds_system_info_alter() (line 896 of /home/modernis/backdropdebug.modernistarchives.com/modules/feeds/feeds.module).
</code></pre></div>



<a name="226344028"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226344028" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226344028">(Feb 15 2021 at 04:20)</a>:</h4>
<p>Out of curiousity, find and modify this function and see the Devel output please: </p>
<div class="codehilite"><pre><span></span><code>function token_info() {
  $data = &amp;backdrop_static(__FUNCTION__);
  dpm($data);
  if (!isset($data)) {
    $data = module_invoke_all(&#39;token_info&#39;);
    dpm($data);
    backdrop_alter(&#39;token_info&#39;, $data);
  }
  return $data;
}
</code></pre></div>



<a name="226345400"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226345400" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oadaeh (Jason Flatt) <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226345400">(Feb 15 2021 at 04:56)</a>:</h4>
<p>You might have to clear all caches and reload the page to see the output.</p>



<a name="226350929"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226350929" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> indigoxela <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226350929">(Feb 15 2021 at 07:04)</a>:</h4>
<p>I think the suggestion of <span class="user-mention" data-user-id="256757">@docwilmot</span> looks promising. There seems to be a module that implements hook_token_info(_alter) in a wrong/breaking way. At least, that's what I (also) suspect. Figuring out the module should help fixing the problem.</p>



<a name="226408179"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226408179" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erica Cavanaugh <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226408179">(Feb 15 2021 at 17:01)</a>:</h4>
<p>Oh! I think it's an issue in the initial D7 site. The token module there doesn't work with PHP 7.4 and is causing token errors in the path settings and such. I think the issue has carried over and is causing problems now in the Backdrop site.</p>



<a name="226425103"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226425103" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erica Cavanaugh <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226425103">(Feb 15 2021 at 20:01)</a>:</h4>
<p>It is fixed! Changing the PHP version to 7.2 from 7.4 for the Backdrop site fixed the token related errors that were appearing.</p>



<a name="226427643"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Sort%20error/near/226427643" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> oadaeh (Jason Flatt) <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Sort.20error.html#226427643">(Feb 15 2021 at 20:36)</a>:</h4>
<p>That should be reported as a bug.</p>



{% endraw %}

<hr><p>Last updated: Apr 05 2021 at 23:47 UTC</p>