[
    {
        "content": "<p>ping <span class=\"user-mention\" data-user-id=\"256729\">@klonos</span></p>",
        "id": 218800606,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607066754
    },
    {
        "content": "<p><a href=\"https://github.com/backdrop-ops/backdropcms.org/issues/733\">https://github.com/backdrop-ops/backdropcms.org/issues/733</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/backdrop-ops/backdropcms.org/issues/733\" style=\"background-image: url(https://avatars3.githubusercontent.com/u/8452564?s=400&amp;v=4)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/backdrop-ops/backdropcms.org/issues/733\" title=\"SWAP Is Creeping Up · Issue #733 · backdrop-ops/backdropcms.org\">SWAP Is Creeping Up · Issue #733 · backdrop-ops/backdropcms.org</a></div><div class=\"message_embed_description\">Our monitoring service has notified us that swap is climbing. I am planning to increase the swap space and if we need to go further, we can move to the next level of virtual machine. Examine logged...</div></div></div>",
        "id": 218800968,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607067206
    },
    {
        "content": "<p>I am going to take the server down now for a few minutes to add more swap space.</p>",
        "id": 218800974,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607067222
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"268294\">@larsdesigns</span> ++ <span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span></p>",
        "id": 218869052,
        "sender_full_name": "klonos",
        "timestamp": 1607104806
    },
    {
        "content": "<p><strong>larsdesigns</strong> :-) (Karma: 5)</p>",
        "id": 218869054,
        "sender_full_name": "Dragonbot",
        "timestamp": 1607104806
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"256729\">@klonos</span> Thanks, I was seeing if you were around to help verify. Not sure about your current time zone.</p>",
        "id": 218869169,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607104851
    },
    {
        "content": "<p>So far it looks like everything came back online.</p>",
        "id": 218869299,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607104900
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"256607\">@BWPanda</span>++</p>",
        "id": 218869330,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607104914
    },
    {
        "content": "<p><strong>bwpanda</strong> go team. (Karma: 20)</p>",
        "id": 218869331,
        "sender_full_name": "Dragonbot",
        "timestamp": 1607104914
    },
    {
        "content": "<p>I'm currently in Greece <span class=\"user-mention\" data-user-id=\"268294\">@larsdesigns</span> ...but working on Aussie time during weekdays.</p>",
        "id": 218869464,
        "sender_full_name": "klonos",
        "timestamp": 1607104950
    },
    {
        "content": "<p>...been really busy with work lately, so I missed 2-3 weeks of weekly meetings too <span aria-label=\"sweat\" class=\"emoji emoji-1f613\" role=\"img\" title=\"sweat\">:sweat:</span></p>",
        "id": 218869558,
        "sender_full_name": "klonos",
        "timestamp": 1607104985
    },
    {
        "content": "<p>It's good to be busy with work.</p>",
        "id": 218870359,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607105319
    },
    {
        "content": "<p>No it's not <span aria-label=\"stuck out tongue\" class=\"emoji emoji-1f61b\" role=\"img\" title=\"stuck out tongue\">:stuck_out_tongue:</span> ...but I know what you mean.</p>",
        "id": 218881905,
        "sender_full_name": "klonos",
        "timestamp": 1607110983
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"268294\">@larsdesigns</span> Could this be related to server maintenance? On <a href=\"https://forum.backdropcms.org/\">https://forum.backdropcms.org/</a>  I get a 502 Bad Gateway error.</p>",
        "id": 219069243,
        "sender_full_name": "Olaf Grabienski",
        "timestamp": 1607340844
    },
    {
        "content": "<p>Same here <span class=\"user-mention\" data-user-id=\"268294\">@larsdesigns</span></p>",
        "id": 219069464,
        "sender_full_name": "klonos",
        "timestamp": 1607341064
    },
    {
        "content": "<p>...I'm sure that Nagios will be complaining now, but it is 3:39am PT, so <span class=\"user-mention\" data-user-id=\"268294\">@larsdesigns</span> will most likely be <span aria-label=\"zzz\" class=\"emoji emoji-1f4a4\" role=\"img\" title=\"zzz\">:zzz:</span></p>",
        "id": 219069610,
        "sender_full_name": "klonos",
        "timestamp": 1607341191
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"256607\">@BWPanda</span> are you perhaps around, and can you have a look?</p>",
        "id": 219069816,
        "sender_full_name": "klonos",
        "timestamp": 1607341326
    },
    {
        "content": "<p>(I don't think I have access to ssh and other infra tools)</p>",
        "id": 219069837,
        "sender_full_name": "klonos",
        "timestamp": 1607341347
    },
    {
        "content": "<p>Apache down? (Behind nginx)</p>",
        "id": 219070071,
        "sender_full_name": "indigoxela",
        "timestamp": 1607341561
    },
    {
        "content": "<p>On my way to bed, sorry.</p>",
        "id": 219070762,
        "sender_full_name": "BWPanda",
        "timestamp": 1607342112
    },
    {
        "content": "<p>Sites are back up it seems <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span></p>",
        "id": 219073078,
        "sender_full_name": "klonos",
        "timestamp": 1607343965
    },
    {
        "content": "<p>504 for now.</p>",
        "id": 219074333,
        "sender_full_name": "findlabnet(Vladimir)",
        "timestamp": 1607344788
    },
    {
        "content": "<p>Confirmed. Seems to be intermittent <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 219074590,
        "sender_full_name": "klonos",
        "timestamp": 1607344935
    },
    {
        "content": "<p>Jepp, it worked for a short time, but seems too busy (under heavy load) again. I guess we have to wait until an admin with ssh access wakes up...</p>",
        "id": 219074600,
        "sender_full_name": "indigoxela",
        "timestamp": 1607344941
    },
    {
        "content": "<p>I am back. Catching up on the thread...</p>",
        "id": 219100272,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607357697
    },
    {
        "content": "<p>I did not get any Nagios alerts but it is not monitoring the forum subdomain. I will create a Nagios check for it.</p>",
        "id": 219100913,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607357933
    },
    {
        "content": "<p>Anyone still having issues? I will check the logs</p>",
        "id": 219101025,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607357989
    },
    {
        "content": "<p>I am browsed through some of the logs and nothing is jumping out at me.</p>",
        "id": 219105778,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607360139
    },
    {
        "content": "<p>I found these in the logs </p>\n<div class=\"codehilite\" data-code-language=\"2020/12/07\"><pre><span></span><code>der from upstream, client: 17.58.96.178, server: api.backdropcms.org, request: \"GET /api/backdrop/core%21includes%21conf\nig.inc/class/ConfigStorageException/1 HTTP/1.1\", upstream: \"fastcgi://unix:/var/run/php/php7.2-fpm.sock\", host: \"api.bac\nkdropcms.org\"\n2020/12/07 11:26:00 [error] 1045#1045: *402929 upstream timed out (110: Connection timed out) while reading response hea\nder from upstream, client: 208.80.194.29, server: backdropcms.org, request: \"GET / HTTP/1.0\", upstream: \"fastcgi://unix:\n/var/run/php/php7.2-fpm.sock\", host: \"backdropcms.org\"\n2020/12/07 11:26:02 [error] 1045#1045: *402934 upstream timed out (110: Connection timed out) while reading response hea\nder from upstream, client: 2600:3c03::f03c:91ff:fec2:d257, server: api.backdropcms.org, request: \"GET /core/cron.php?cro\nn_key=QXf7y8JYO8XD_qw4KhyOzErHNdo2OdG2PxOkDkL1Oks HTTP/1.1\", upstream: \"fastcgi://unix:/var/run/php/php7.2-fpm.sock\", ho\nst: \"api.backdropcms.org\"\n2020/12/07 11:26:03 [error] 1045#1045: *402933 upstream timed out (110: Connection timed out) while reading response hea\nder from upstream, client: 66.175.208.83, server: backdropcms.org, request: \"GET /core/cron.php?cron_key=baZL1QyrnB/8Q H\nTTP/1.1\", upstream: \"fastcgi://unix:/var/run/php/php7.2-fpm.sock\", host: \"backdropcms.org\"\n2020/12/07 11:26:03 [error] 1046#1046: *402935 upstream timed out (110: Connection timed out) while reading response hea\nder from upstream, client: 2600:3c03::f03c:91ff:fec2:d257, server: localize.backdropcms.org, request: \"GET /cron.php?cro\nn_key=DA7EQBg0PfTXIdQhRJQfehrILAhrud95D-dwiea4G6k HTTP/1.1\", upstream: \"fastcgi://unix:/var/run/php/php7.2-fpm.sock\", ho\nst: \"localize.backdropcms.org\"\n2020/12/07 11:26:03 [error] 1046#1046: *402939 upstream timed out (110: Connection timed out) while reading response hea\nder from upstream, client: 2600:3c03::f03c:91ff:fec2:d257, server: forum.backdropcms.org, request: \"GET /core/cron.php?c\nron_key=5_ujEohW1IY7ty0gcqgz8lJ2yIZYZD_Di9LXhQd4oPU HTTP/1.1\", upstream: \"fastcgi://unix:/var/run/php/php7.2-fpm.sock\",\nhost: \"forum.backdropcms.org\"\n</code></pre></div>",
        "id": 219106239,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607360336
    },
    {
        "content": "<p>I will check the configuration for fpm.</p>",
        "id": 219106383,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607360396
    },
    {
        "content": "<p>Looks like the NGINX timeout was caused by 98:[07-Dec-2020 17:30:04] WARNING: [pool www] server reached pm.max_children setting (5), consider raising it</p>",
        "id": 219112453,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607363040
    },
    {
        "content": "<p>Around the time when the forum cron job starts.</p>",
        "id": 219112533,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607363065
    },
    {
        "content": "<p>I am increasing the pm.max_children from 5 to 10.</p>",
        "id": 219112587,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607363093
    },
    {
        "content": "<p>I changed the value from 5 to 10 and restarted php-fpm.</p>",
        "id": 219113105,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607363319
    },
    {
        "content": "<p>I am considering expanding the timeout settings for nginx but let's see if this corrects the problem.</p>",
        "id": 219113173,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607363354
    },
    {
        "content": "<p>I will tail the logs today and setup some more monitoring services.</p>",
        "id": 219113247,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607363389
    },
    {
        "content": "<p>Opened <a href=\"https://github.com/backdrop-ops/backdropcms.org/issues/734\">https://github.com/backdrop-ops/backdropcms.org/issues/734</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/backdrop-ops/backdropcms.org/issues/734\" style=\"background-image: url(https://avatars3.githubusercontent.com/u/8452564?s=400&amp;v=4)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/backdrop-ops/backdropcms.org/issues/734\" title=\"502/504 errors · Issue #734 · backdrop-ops/backdropcms.org\">502/504 errors · Issue #734 · backdrop-ops/backdropcms.org</a></div><div class=\"message_embed_description\">502 Bad Gateway error is being reported by forum.backdropcms.org users. 504 messages are being reported by forum.backdropcms.org users.</div></div></div>",
        "id": 219115191,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607364279
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"268294\">@larsdesigns</span> <span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span> ...FWIW, the issue seemed to be intermittent.</p>",
        "id": 219115962,
        "sender_full_name": "klonos",
        "timestamp": 1607364645
    },
    {
        "content": "<p>yes, as traffic increases the errors occur.</p>",
        "id": 219116016,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607364676
    },
    {
        "content": "<p>I will create a fpm check for nagios also.</p>",
        "id": 219116079,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607364714
    },
    {
        "content": "<p>So we can head this off in the future.</p>",
        "id": 219116125,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607364724
    },
    {
        "content": "<p>So far swap is very low and memory seems okay. So I think the last round of maintenance was successful.</p>",
        "id": 219116236,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607364788
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"256729\">@klonos</span>  It looks to me that traffic has increased a lot recently. Would you have access to traffic analytics?</p>",
        "id": 219116392,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607364857
    },
    {
        "content": "<p>I don't <span class=\"user-mention\" data-user-id=\"268294\">@larsdesigns</span> but it doesn't hit me as odd that traffic has increased ...there's a lot of activity in the community lately.</p>",
        "id": 219116552,
        "sender_full_name": "klonos",
        "timestamp": 1607364941
    },
    {
        "content": "<p>just watching the logs, I am not seeing anything out of the ordinary such as a DOS or something.</p>",
        "id": 219116706,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607365007
    },
    {
        "content": "<p>...so perhaps we may need to look at increasing the linode level if these issues keep happening (?)</p>",
        "id": 219116719,
        "sender_full_name": "klonos",
        "timestamp": 1607365013
    },
    {
        "content": "<p>If traffic keeps increasing, I would say yes.</p>",
        "id": 219116805,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607365061
    },
    {
        "content": "<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 219116819,
        "sender_full_name": "klonos",
        "timestamp": 1607365071
    },
    {
        "content": "<p>Probably create a VM for the databases.</p>",
        "id": 219116976,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607365137
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"256729\">@klonos</span> After lunch, I will write the php-fpm check. I will write in PHP and not C this time so other folks can check it.</p>",
        "id": 219130392,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607371156
    },
    {
        "content": "<p>I am able to check Google Analytics and I do not see a significant increase in traffic. A small increase, yes. But, I am skeptical that it is enough to cause these problems. BUT, I am also not an expert in analytics, so I might be misreading data or not looking at the right thing.</p>",
        "id": 219132843,
        "sender_full_name": "StPaulTim",
        "timestamp": 1607372395
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"256570\">@StPaulTim</span> Interesting. Then perhaps we should focus on optimizing the code that is running.</p>",
        "id": 219136328,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607374138
    },
    {
        "content": "<p>There may be something that is sucking up more resources.</p>",
        "id": 219136467,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607374212
    },
    {
        "content": "<p>Do you know of processing jobs or something that was implemented recently?</p>",
        "id": 219136523,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607374244
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"268294\">larsdesigns</span> <a href=\"#narrow/stream/218635-Backdrop/topic/Infrastructure/near/219136523\">said</a>:</p>\n<blockquote>\n<p>Do you know of processing jobs or something that was implemented recently?</p>\n</blockquote>\n<p>Sorry, but I don't. <span class=\"user-mention\" data-user-id=\"256607\">@BWPanda</span> or <span class=\"user-mention\" data-user-id=\"258586\">@quicksketch</span> might be able to help with that question.</p>",
        "id": 219148213,
        "sender_full_name": "StPaulTim",
        "timestamp": 1607380395
    },
    {
        "content": "<p>No idea sorry.</p>",
        "id": 219149774,
        "sender_full_name": "BWPanda",
        "timestamp": 1607381421
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"258586\">@quicksketch</span> Are you aware of any large cron jobs?</p>",
        "id": 219244919,
        "sender_full_name": "larsdesigns",
        "timestamp": 1607452795
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"263951\">@jenlampton</span> Can you have a look at this for me please? <a href=\"https://github.com/backdrop-ops/backdropcms.org/issues/735\">https://github.com/backdrop-ops/backdropcms.org/issues/735</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/backdrop-ops/backdropcms.org/issues/735\" style=\"background-image: url(https://avatars3.githubusercontent.com/u/8452564?s=400&amp;v=4)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/backdrop-ops/backdropcms.org/issues/735\" title=\"API and Forum repos have different default config dir setting than B.org · Issue #735 · backdrop-ops/backdropcms.org\">API and Forum repos have different default config dir setting than B.org · Issue #735 · backdrop-ops/backdropcms.org</a></div><div class=\"message_embed_description\">This repo has the following default config setting in settings.php: $config_directories[&#39;active&#39;] = &#39;../config/dev-active&#39;; $config_directories[&#39;staging&#39;] = &#39;../config/s...</div></div></div>",
        "id": 219317434,
        "sender_full_name": "BWPanda",
        "timestamp": 1607508791
    },
    {
        "content": "<p>I made some changes to php-fpm on the server and documented it here: <a href=\"https://github.com/backdrop-ops/backdropcms.org/issues/734\">https://github.com/backdrop-ops/backdropcms.org/issues/734</a>. I will continue to monitor for a while and will check back this evening.</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/backdrop-ops/backdropcms.org/issues/734\" style=\"background-image: url(https://avatars.githubusercontent.com/u/8452564?s=400&amp;v=4)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/backdrop-ops/backdropcms.org/issues/734\" title=\"502/504 errors · Issue #734 · backdrop-ops/backdropcms.org\">502/504 errors · Issue #734 · backdrop-ops/backdropcms.org</a></div><div class=\"message_embed_description\">502 Bad Gateway error is being reported by forum.backdropcms.org users. 504 messages are being reported by forum.backdropcms.org users.</div></div></div>",
        "id": 231104020,
        "sender_full_name": "larsdesigns",
        "timestamp": 1616196647
    }
]