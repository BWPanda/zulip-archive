---
layout: archive
title: Zulip Chat Archive
permalink: /stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html
---

<h2>Stream: <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/index.html">Backdrop</a></h2>
<h3>Topic: <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html">output fields in blocks</a></h3>

<hr>

<base href="backdrop.zulipchat.com">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="202407007"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202407007" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Vander Wal <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202407007">(Jun 30 2020 at 08:23)</a>:</h4>
<p>A little code assistance, if someone has time for a noob.</p>
<div class="codehilite"><pre><span></span><code>    $node = menu_get_object();
    if (!empty($node)) {
        $node_title = $node-&gt;title;
        echo $node_title;

        $field = field_get_items(&#39;node&#39;, $node, &#39;field_cal_per_min_max&#39;);
        $output = field_view_value(&#39;node&#39;, $node, &#39;field_cal_per_min_max&#39;, $field[0], array(
            &#39;type&#39; =&gt; &#39;string&#39;,
        ));

        echo $output;

    }
</code></pre></div>


<p>I am trying to print a field in a block (from the current node). I am able to get the title of the node correctly. However, when I try and get the value of the field, it always returns 'array', in echo, rather than the actual value.</p>



<a name="202407601"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202407601" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> indigoxela <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202407601">(Jun 30 2020 at 08:30)</a>:</h4>
<p>field_view_value() returns a renderable array, so you need to wrap $output in backdrop_render() - <code>echo backdrop_render($output)</code> (didn't test it)</p>



<a name="202407689"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202407689" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Vander Wal <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202407689">(Jun 30 2020 at 08:31)</a>:</h4>
<p><span class="user-mention" data-user-id="256738">@indigoxela</span> , thanks ill give that a go.</p>



<a name="202407837"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202407837" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Vander Wal <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202407837">(Jun 30 2020 at 08:33)</a>:</h4>
<p><span class="user-mention" data-user-id="256738">@indigoxela</span> , magic! I would have never figured that out :) Thanks!</p>



<a name="202408115"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202408115" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> indigoxela <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202408115">(Jun 30 2020 at 08:36)</a>:</h4>
<p>You're welcome. A tip: whenever you struggle with a "mystic" variable, try <code>debug($your_var)</code> - see <a href="https://api.backdropcms.org/api/backdrop/core%21includes%21common.inc/function/debug/1">https://api.backdropcms.org/api/backdrop/core%21includes%21common.inc/function/debug/1</a></p>



<a name="202408274"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202408274" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Vander Wal <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202408274">(Jun 30 2020 at 08:38)</a>:</h4>
<p><span class="user-mention" data-user-id="256738">@indigoxela</span> , good tip. Coming from c#, that's a new one for me. First non-strongly typed language for me.</p>



<a name="202418726"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202418726" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> klonos <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202418726">(Jun 30 2020 at 10:40)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="311204">@Eric Vander Wal</span> <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> ...I guess the right question here is why (or if?) you need this custom php code in the first place. Backdrop supports adding fields as blocks via the admin UI:</p>
<ol>
<li>create a new layout, select a name, a layout template</li>
<li>add the <code>node/%</code> context in the layout (this is the important bit that does the "magic")</li>
<li>set any visibility conditions, like for example to be used only for a specific content type</li>
<li>save the layout<br>
...when you try to add blocks to this layout, you will notice all the node fields become available as blocks <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></li>
</ol>



<a name="202418934"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202418934" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> klonos <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202418934">(Jun 30 2020 at 10:43)</a>:</h4>
<p>...see these existing issues for ways we're looking into making this feature more obvious out of the box: <a href="https://github.com/backdrop/backdrop-issues/issues/2306">https://github.com/backdrop/backdrop-issues/issues/2306</a> and <a href="https://github.com/backdrop/backdrop-issues/issues/3530">https://github.com/backdrop/backdrop-issues/issues/3530</a> (also <a href="https://github.com/backdrop/backdrop-issues/issues/3531">https://github.com/backdrop/backdrop-issues/issues/3531</a> for users)</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/backdrop/backdrop-issues/issues/2306" style="background-image: url(https://avatars3.githubusercontent.com/u/5283039?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/backdrop/backdrop-issues/issues/2306" title="[UX] Display all available blocks (with instructions on how to get them) · Issue #2306 · backdrop/backdrop-issues">[UX] Display all available blocks (with instructions on how to get them) · Issue #2306 · backdrop/backdrop-issues</a></div><div class="message_embed_description">None of the layouts that we ship with core has node/% as path, thus people trying to add a field as a block won&#39;t be able to figure it out unless they have good knowledge of the internals of la...</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/backdrop/backdrop-issues/issues/3530" style="background-image: url(https://avatars3.githubusercontent.com/u/5283039?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/backdrop/backdrop-issues/issues/3530" title="Ship core with a layout that uses node/% as context · Issue #3530 · backdrop/backdrop-issues">Ship core with a layout that uses node/% as context · Issue #3530 · backdrop/backdrop-issues</a></div><div class="message_embed_description">#2306 started out with this as one of the proposed solutions, but has changed direction over time... None of the layouts that we ship with core has node/% as path, thus people trying to add a field...</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/backdrop/backdrop-issues/issues/3531" style="background-image: url(https://avatars3.githubusercontent.com/u/5283039?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/backdrop/backdrop-issues/issues/3531" title="Ship core with a layout that uses user/% as context · Issue #3531 · backdrop/backdrop-issues">Ship core with a layout that uses user/% as context · Issue #3531 · backdrop/backdrop-issues</a></div><div class="message_embed_description">This was brought up in #2306, and is a sibling feature request to #3530 and #3648. We should ship core with a layout that uses user/% as context, since it is easier for beginners to tweak layouts r...</div></div></div>



<a name="202421077"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202421077" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Vander Wal <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202421077">(Jun 30 2020 at 11:10)</a>:</h4>
<p><span class="user-mention" data-user-id="256729">@klonos</span> , thanks! In this case, I think I do. I am building graphs by PHP. Ive chosen not to use views for it in this case, because I am storing them in CSV plan text fields. This makes it easier to manage them, since I am setting them via rest API. With PHP I can make some tweaks to the data.</p>



<a name="202421124"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202421124" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> klonos <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202421124">(Jun 30 2020 at 11:11)</a>:</h4>
<p>Fair enough <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> ...just making sure that you are aware of the field blocks feature then <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="202421335"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202421335" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Vander Wal <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202421335">(Jun 30 2020 at 11:13)</a>:</h4>
<p><span class="user-mention" data-user-id="256729">@klonos</span> , no worries. Advice is always welcome. Ive been using Drupal since 4.7. I cannot believe that was 2006 already! But haven't really been building modules <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span>  Happy to switch to backdrop, as D8 really lost the thread for me.</p>



<a name="202421411"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202421411" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> klonos <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202421411">(Jun 30 2020 at 11:14)</a>:</h4>
<p>Glad to have you in the Backdrop community <span class="user-mention" data-user-id="311204">@Eric Vander Wal</span> <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="202421438"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202421438" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Vander Wal <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202421438">(Jun 30 2020 at 11:15)</a>:</h4>
<p>Thanks, happy to be here and looking forward to it continue growing.</p>



<a name="202536328"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202536328" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Vander Wal <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202536328">(Jul 01 2020 at 06:57)</a>:</h4>
<p>Best way to get the $data from views into a block? (I will aggregate some of the data displayed in views into a custom Graph). But not sure where to start when getting the data out.</p>



<a name="202536345"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202536345" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Vander Wal <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202536345">(Jul 01 2020 at 06:57)</a>:</h4>
<p>Would it be this? <a href="https://api.drupal.org/api/views/views.api.php/function/hook_views_data/7.x-3.x">https://api.drupal.org/api/views/views.api.php/function/hook_views_data/7.x-3.x</a></p>



<a name="202536492"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202536492" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Vander Wal <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202536492">(Jul 01 2020 at 07:00)</a>:</h4>
<p><a href="https://api.backdropcms.org/api/backdrop/core%21modules%21views%21views.api.php/function/hook_views_data/1">https://api.backdropcms.org/api/backdrop/core%21modules%21views%21views.api.php/function/hook_views_data/1</a></p>



<a name="202545132"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202545132" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> indigoxela <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202545132">(Jul 01 2020 at 08:55)</a>:</h4>
<p>hook_views_data does something totally different. With it you can describe your module's db schema to views.</p>
<p>You want to get the data OUT of an existing view - if I get it right... Just like you did a db query? Then you might need something like views_get_view() and grab the things you need from it. Or maybe one of the views hooks... There's a bunch of them: <a href="https://api.backdropcms.org/api/backdrop/core%21modules%21views%21views.api.php/1">https://api.backdropcms.org/api/backdrop/core%21modules%21views%21views.api.php/1</a></p>
<p>Maybe someone else has better advice?</p>



<a name="202545656"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202545656" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> indigoxela <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202545656">(Jul 01 2020 at 09:01)</a>:</h4>
<p>Hm... possibly <a href="https://api.backdropcms.org/api/backdrop/core%21modules%21views%21views.module/function/views_get_view_result/1">views_get_view_result()</a> - not sure.</p>



<a name="202564892"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/output%20fields%20in%20blocks/near/202564892" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Vander Wal <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/output.20fields.20in.20blocks.html#202564892">(Jul 01 2020 at 12:57)</a>:</h4>
<p><span class="user-mention" data-user-id="256738">@indigoxela</span> , thanks. Ill dig deeper into that and see what I can find.</p>



{% endraw %}

<hr><p>Last updated: Apr 05 2021 at 23:47 UTC</p>