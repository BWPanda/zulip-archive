[
    {
        "content": "<p>I'm proposing a small advanced setting to make it easier to use configuration with a git workflow. Especially where the config is in the repo and where live site is not writable (e.g. Pantheon, <a href=\"http://Platform.sh\">Platform.sh</a>). <br>\n<a href=\"https://github.com/backdrop/backdrop-issues/issues/4447\">https://github.com/backdrop/backdrop-issues/issues/4447</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"http://Platform.sh\" style=\"background-image: url(https://platform.sh/images/meta/Facebook_v2.jpg)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"http://Platform.sh\" title=\"PaaS for Multi-Cloud Hosting, Development, and Deployment with PHP, Java, Node.js, Ruby, Python, Golang\">PaaS for Multi-Cloud Hosting, Development, and Deployment with PHP, Java, Node.js, Ruby, Python, Golang</a></div><div class=\"message_embed_description\">The end-to-end web platform for agile teams. Build, evolve, and scale your website fleetâwith zero infrastructure management investment. Get hosting, CI/CD, automated updates, global 24x7 support. We support PHP, Node.js, Drupal, WordPress, Ruby, Golang, Python, MySQL, ElasticSearch, and more.</div></div></div><div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/backdrop/backdrop-issues/issues/4447\" style=\"background-image: url(https://avatars3.githubusercontent.com/u/5283039?s=400&amp;v=4)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/backdrop/backdrop-issues/issues/4447\" title=\"Provide advanced admin option to skip deleting config staging files after a config sync · Issue #4447 · backdrop/backdrop-issues\">Provide advanced admin option to skip deleting config staging files after a config sync · Issue #4447 · backdrop/backdrop-issues</a></div><div class=\"message_embed_description\">Description of the need There&#39;s a long standing issue in Pantheon (and likely Platform.sh too) where the live code directory is locked. If a developer puts config into the repo it means that it...</div></div></div>",
        "id": 201546335,
        "sender_full_name": "Herb",
        "timestamp": 1592763059
    },
    {
        "content": "<p>Wondering what others think. <span class=\"user-mention\" data-user-id=\"256583\">@Geoff St. Pierre (serundeputy)</span> <span class=\"user-mention\" data-user-id=\"256607\">@BWPanda (Peter)</span></p>",
        "id": 201546343,
        "sender_full_name": "Herb",
        "timestamp": 1592763081
    },
    {
        "content": "<p>I'm not very familiar with config management, but wouldn't exporting config after syncing make staging the same as live? So then staging isn't emptied but it also doesn't show any differences?</p>",
        "id": 201551956,
        "sender_full_name": "BWPanda",
        "timestamp": 1592772187
    },
    {
        "content": "<p>We're working with more than one environment so don't want to typically export the config from live. Instead we would set it so the dev site's staging directory is populated by the dev site's config, it gets committed then deployed to live</p>",
        "id": 201568227,
        "sender_full_name": "Herb",
        "timestamp": 1592802035
    },
    {
        "content": "<p>We would use the \"figure 8\" approach but we haven't had a chance to try it yet fully because of this limitation in Backdrop.</p>",
        "id": 201568310,
        "sender_full_name": "Herb",
        "timestamp": 1592802188
    },
    {
        "content": "<p>it doesn't matter to me I don't figure 8</p>",
        "id": 201625290,
        "sender_full_name": "Geoff St. Pierre (serundeputy)",
        "timestamp": 1592841826
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"256583\">@Geoff St. Pierre (serundeputy)</span> would you support this for core for people who might need it? I was also wondering if it would improve the workflow for <a href=\"http://Platform.sh\">Platform.sh</a> for people who use that?</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"http://Platform.sh\" style=\"background-image: url(https://platform.sh/images/meta/Facebook_v2.jpg)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"http://Platform.sh\" title=\"PaaS for Multi-Cloud Hosting, Development, and Deployment with PHP, Java, Node.js, Ruby, Python, Golang\">PaaS for Multi-Cloud Hosting, Development, and Deployment with PHP, Java, Node.js, Ruby, Python, Golang</a></div><div class=\"message_embed_description\">The end-to-end web platform for agile teams. Build, evolve, and scale your website fleetâwith zero infrastructure management investment. Get hosting, CI/CD, automated updates, global 24x7 support. We support PHP, Node.js, Drupal, WordPress, Ruby, Golang, Python, MySQL, ElasticSearch, and more.</div></div></div>",
        "id": 201657980,
        "sender_full_name": "Herb",
        "timestamp": 1592858295
    },
    {
        "content": "<p>i'm not opposed to it on <a href=\"http://p.sh\">p.sh</a> I use the versioned staging approach; <a href=\"https://howtobackdrop.com/posts/backdrop-cms-project-starter\">https://howtobackdrop.com/posts/backdrop-cms-project-starter</a></p>",
        "id": 201725123,
        "sender_full_name": "Geoff St. Pierre (serundeputy)",
        "timestamp": 1592918954
    },
    {
        "content": "<p>fwiw; <a href=\"http://p.sh\">p.sh</a> allows you to configure what directories are writable in <code>platform.app.yaml</code> so if you wanted your config to be writable you can add it into the <code>mounts</code>:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"nt\">mounts</span><span class=\"p\">:</span>\n    <span class=\"s\">&#39;/web/files&#39;</span><span class=\"p p-Indicator\">:</span> <span class=\"s\">&#39;shared:files/files&#39;</span>\n    <span class=\"s\">&#39;/tmp&#39;</span><span class=\"p p-Indicator\">:</span> <span class=\"s\">&#39;shared:files/tmp&#39;</span>\n    <span class=\"s\">&#39;/config&#39;</span><span class=\"l l-Scalar l-Scalar-Plain\">:&#39;shared:config&#39;</span>\n</code></pre></div>",
        "id": 201727009,
        "sender_full_name": "Geoff St. Pierre (serundeputy)",
        "timestamp": 1592919817
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"256583\">@Geoff St. Pierre (serundeputy)</span>! I should copy your Lando file</p>",
        "id": 201780009,
        "sender_full_name": "Herb",
        "timestamp": 1592944977
    },
    {
        "content": "<p>I guess you can also configure which directories are writable with Pantheon too, but they end up as symlinks to the other filesystem</p>",
        "id": 201792845,
        "sender_full_name": "Herb",
        "timestamp": 1592951753
    },
    {
        "content": "<p>I'm guessing <a href=\"http://p.sh\">p.sh</a> won't make anything in the repo writable?</p>",
        "id": 201792947,
        "sender_full_name": "Herb",
        "timestamp": 1592951820
    },
    {
        "content": "<p>I have <code>active</code> writable here <a href=\"https://github.com/Backdrop4Good/backdrop4good.org/blob/Test/.platform.app.yaml#L48\">https://github.com/Backdrop4Good/backdrop4good.org/blob/Test/.platform.app.yaml#L48</a> (which is not in version control); i did not test setting <code>staging</code> as writable.</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/Backdrop4Good/backdrop4good.org/blob/Test/.platform.app.yaml#L48\" style=\"background-image: url(https://avatars0.githubusercontent.com/u/31367956?s=400&amp;v=4)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/Backdrop4Good/backdrop4good.org/blob/Test/.platform.app.yaml#L48\" title=\"Backdrop4Good/backdrop4good.org\">Backdrop4Good/backdrop4good.org</a></div><div class=\"message_embed_description\">Backdrop for Good site. Contribute to Backdrop4Good/backdrop4good.org development by creating an account on GitHub.</div></div></div>",
        "id": 201844616,
        "sender_full_name": "Geoff St. Pierre (serundeputy)",
        "timestamp": 1593004139
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"256583\">@Geoff St. Pierre (serundeputy)</span> making only the active writable makes sense. Then staging is in the repo. And with my proposed PR it would not try to delete the staging files after they are synced</p>",
        "id": 201846254,
        "sender_full_name": "Herb",
        "timestamp": 1593005115
    }
]