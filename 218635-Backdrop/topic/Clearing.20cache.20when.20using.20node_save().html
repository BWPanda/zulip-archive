---
layout: archive
title: Zulip Chat Archive
permalink: /stream/218635-Backdrop/topic/Clearing.20cache.20when.20using.20node_save().html
---

<h2>Stream: <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/index.html">Backdrop</a></h2>
<h3>Topic: <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Clearing.20cache.20when.20using.20node_save().html">Clearing cache when using node_save()</a></h3>

<hr>

<base href="backdrop.zulipchat.com">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="209437106"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Clearing%20cache%20when%20using%20node_save%28%29/near/209437106" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Herb <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Clearing.20cache.20when.20using.20node_save().html#209437106">(Sep 08 2020 at 20:05)</a>:</h4>
<p>Anyone have any idea of how to clear a specific cache entry (not the global cache) when using node_save() in Backdrop. In D7  <a href="https://www.drupal.org/docs/7/administering-drupal-7-site/clearing-or-rebuilding-drupals-cache">https://www.drupal.org/docs/7/administering-drupal-7-site/clearing-or-rebuilding-drupals-cache</a>  claims we can do <code>cache_clear_all('content:' . $nid, 'cache_content', TRUE);</code> but that table is empty on this particular Backdrop site. Might be because entity cache has been put into core.</p>



<a name="209437311"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Clearing%20cache%20when%20using%20node_save%28%29/near/209437311" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Herb <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Clearing.20cache.20when.20using.20node_save().html#209437311">(Sep 08 2020 at 20:07)</a>:</h4>
<p>But using <code>cache_clear_all($nid, 'cache_entity_node', TRUE);</code> doesn't work either - or maybe it clears that entry but it doesn't refresh cache if pages are cached for anonymous. Want a way to avoid <code>cache_clear_all()</code> but maybe I can't</p>



<a name="209438277"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Clearing%20cache%20when%20using%20node_save%28%29/near/209438277" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Olaf Grabienski <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Clearing.20cache.20when.20using.20node_save().html#209438277">(Sep 08 2020 at 20:14)</a>:</h4>
<p>Maybe have a look how <a href="https://www.drupal.org/project/flush_page_cache">https://www.drupal.org/project/flush_page_cache</a> does it?</p>



<a name="209438398"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Clearing%20cache%20when%20using%20node_save%28%29/near/209438398" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Olaf Grabienski <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Clearing.20cache.20when.20using.20node_save().html#209438398">(Sep 08 2020 at 20:15)</a>:</h4>
<p>Or <a href="https://www.drupal.org/project/clear_single_page_cache">https://www.drupal.org/project/clear_single_page_cache</a>?</p>



<a name="209510257"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Clearing%20cache%20when%20using%20node_save%28%29/near/209510257" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joseph Flatt <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Clearing.20cache.20when.20using.20node_save().html#209510257">(Sep 09 2020 at 13:32)</a>:</h4>
<p><span class="user-mention" data-user-id="256705">@Herb</span> I think you want to do something like <code>cache('entity_node')-&gt;delete($nid);</code></p>



<a name="209521258"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Clearing%20cache%20when%20using%20node_save%28%29/near/209521258" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Herb <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Clearing.20cache.20when.20using.20node_save().html#209521258">(Sep 09 2020 at 14:48)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="256663">@Joseph Flatt</span> I'll give it a try. And clearing the entity cache will trigger clearing the page cache too?</p>



<a name="209524649"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Clearing%20cache%20when%20using%20node_save%28%29/near/209524649" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joseph Flatt <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Clearing.20cache.20when.20using.20node_save().html#209524649">(Sep 09 2020 at 15:10)</a>:</h4>
<p>No, you would have to do that separately. There is an issue to support cache tags, which would make that easier, but I don't think anyone has worked on it yet. <a href="https://github.com/backdrop/backdrop-issues/issues/4127">https://github.com/backdrop/backdrop-issues/issues/4127</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/backdrop/backdrop-issues/issues/4127" style="background-image: url(https://avatars3.githubusercontent.com/u/5283039?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/backdrop/backdrop-issues/issues/4127" title="[PS][D8] Advanced Drupal Caching (a.k.a. cache tags and cache max-age) · Issue #4127 · backdrop/backdrop-issues">[PS][D8] Advanced Drupal Caching (a.k.a. cache tags and cache max-age) · Issue #4127 · backdrop/backdrop-issues</a></div><div class="message_embed_description">Description of the need A website’s cache is only useful if it has the necessary content on hand to satisfy visitors’ requests. Pantheon’s granular cache control enables developers and site owners ...</div></div></div>



<a name="209583703"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Clearing%20cache%20when%20using%20node_save%28%29/near/209583703" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Herb <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Clearing.20cache.20when.20using.20node_save().html#209583703">(Sep 10 2020 at 00:05)</a>:</h4>
<p>I was thinking that I could also fetch the path alias of the node and use that to clear the page cache, since it's using the alias as the key.</p>



<a name="209583776"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Clearing%20cache%20when%20using%20node_save%28%29/near/209583776" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Herb <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Clearing.20cache.20when.20using.20node_save().html#209583776">(Sep 10 2020 at 00:06)</a>:</h4>
<p>Anyway, I had ended up just clearing the entire cache so might need to wait until next time I work on something similar</p>



{% endraw %}

<hr><p>Last updated: Apr 05 2021 at 23:47 UTC</p>