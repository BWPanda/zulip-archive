---
layout: archive
title: Zulip Chat Archive
permalink: /stream/218635-Backdrop/topic/Theme.20settings.html
---

<h2>Stream: <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/index.html">Backdrop</a></h2>
<h3>Topic: <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html">Theme settings</a></h3>

<hr>

<base href="backdrop.zulipchat.com">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="200044180"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200044180" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200044180">(Jun 07 2020 at 21:48)</a>:</h4>
<p>I'm a bit confused about theme settings. Bartik for example has a <code>theme-settings.php</code> file with just naked form elements in there, not within a function, and these are automatically picked up on the theme settings page. What is the difference between doing that to add settings, versus implementing <code>hook_form_system_theme_settings_alter()</code>? Implementing that hook seems to also add form elements to the settings page. Why one or the other?</p>



<a name="200086850"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200086850" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200086850">(Jun 08 2020 at 11:54)</a>:</h4>
<p>Anyone know this?</p>



<a name="200087710"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200087710" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> BWPanda <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200087710">(Jun 08 2020 at 12:04)</a>:</h4>
<p>After reading <a href="https://github.com/backdrop/backdrop/blob/5447e13a78c449c0330b9daf9a5c7cd22717a5be/core/modules/system/system.admin.inc#L437">https://github.com/backdrop/backdrop/blob/5447e13a78c449c0330b9daf9a5c7cd22717a5be/core/modules/system/system.admin.inc#L437</a> my guess would be that having 'naked' form elements let's you setup the form the way you want (e.g. you define the form's starting state), whereas using the <code>alter</code> hook let's you change other forms (e.g. add a new element, instead of redefining the whole form). Note sure if that helps...</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/backdrop/backdrop/blob/5447e13a78c449c0330b9daf9a5c7cd22717a5be/core/modules/system/system.admin.inc#L437" style="background-image: url(https://avatars3.githubusercontent.com/u/5283039?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/backdrop/backdrop/blob/5447e13a78c449c0330b9daf9a5c7cd22717a5be/core/modules/system/system.admin.inc#L437" title="backdrop/backdrop">backdrop/backdrop</a></div><div class="message_embed_description">Backdrop core code repository. Contribute to backdrop/backdrop development by creating an account on GitHub.</div></div></div>



<a name="200106961"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200106961" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joseph Flatt <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200106961">(Jun 08 2020 at 14:42)</a>:</h4>
<p>As far as I am aware, there is no difference between them in functionality.</p>



<a name="200110278"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200110278" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200110278">(Jun 08 2020 at 15:03)</a>:</h4>
<p>That is weird, right? Two ways to do the same thing, no documentation anywhere as to why its this way (I've searched), and one of those ways very non-Drupal/Backdrop (just naked form elements in a <code>*.php</code> file). Wonder how this happened. Seems like an oversight.</p>



<a name="200112357"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200112357" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joseph Flatt <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200112357">(Jun 08 2020 at 15:16)</a>:</h4>
<p>It probably is. Most of the code in there is very old.</p>



<a name="200128604"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200128604" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200128604">(Jun 08 2020 at 17:14)</a>:</h4>
<p>Did some digging; looks like the "naked" code started with Backdrop. I checked 10 random D7 themes, none do that. Maybe, though it seems to work, we shouldnt do that. Worth an issue?</p>



<a name="200147612"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200147612" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> klonos <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200147612">(Jun 08 2020 at 19:53)</a>:</h4>
<p>By reading <a href="https://www.drupal.org/docs/7/theming/advanced/creating-advanced-theme-settings#s-drupal-7">https://www.drupal.org/docs/7/theming/advanced/creating-advanced-theme-settings#s-drupal-7</a> I get the impression that using a theme-settings.php was the D6 and before way, with <code>hook_form_system_theme_settings_alter()</code> being added in D7.</p>



<a name="200151366"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200151366" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200151366">(Jun 08 2020 at 20:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="256729">klonos</span> <a href="#narrow/stream/218635-Backdrop/topic/Theme.20settings/near/200147612">said</a>:</p>
<blockquote>
<p>I get the impression that using a theme-settings.php was the D6 and before way, with <code>hook_form_system_theme_settings_alter()</code> being added in D7.</p>
</blockquote>
<p>Not sure that is so. I checked the source code for both D7 and D6 themes. Both had <code>theme-settings.php</code> files, none had form elements as we do.</p>



<a name="200151379"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200151379" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200151379">(Jun 08 2020 at 20:23)</a>:</h4>
<p>Posting an issue shortly.</p>



<a name="200180486"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200180486" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Herb <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200180486">(Jun 09 2020 at 04:04)</a>:</h4>
<p>I have no idea where this might be documented but I think I heard somewhere that this was done to make it easier to add to the theme form. If that file only ever has one function than why not just put the form elements in there "raw"? So I recall</p>



<a name="200181260"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200181260" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> BWPanda <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200181260">(Jun 09 2020 at 04:25)</a>:</h4>
<p><a href="https://github.com/backdrop/backdrop-issues/issues/3391">https://github.com/backdrop/backdrop-issues/issues/3391</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/backdrop/backdrop-issues/issues/3391" style="background-image: url(https://avatars3.githubusercontent.com/u/5283039?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/backdrop/backdrop-issues/issues/3391" title="[DX] Document the usage of theme-settings.php · Issue #3391 · backdrop/backdrop-issues">[DX] Document the usage of theme-settings.php · Issue #3391 · backdrop/backdrop-issues</a></div><div class="message_embed_description">So, I worked on #3375 and specifically on http://drupal.org/node/2900373. The initial PR I filed was an almost verbatim copy-paste from the Drupal patch, and it included a new core/modules/simplete...</div></div></div>



<a name="200215459"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200215459" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Herb <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200215459">(Jun 09 2020 at 12:08)</a>:</h4>
<p>Ah thanks <span class="user-mention" data-user-id="256607">@BWPanda (Peter)</span>. So I commented all about this already <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span>. Though still is a mystery</p>



<a name="200221592"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200221592" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Herb <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200221592">(Jun 09 2020 at 12:47)</a>:</h4>
<p>Seems to me this page is accurate now <a href="https://api.backdropcms.org/adding-theme-settings-advanced">https://api.backdropcms.org/adding-theme-settings-advanced</a></p>



<a name="200227465"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200227465" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200227465">(Jun 09 2020 at 13:34)</a>:</h4>
<p>Thanks for finding the existing issue. <br>
<span class="user-mention silent" data-user-id="256705">Herb</span> <a href="#narrow/stream/218635-Backdrop/topic/Theme.20settings/near/200221592">said</a>:</p>
<blockquote>
<p>Seems to me this page is accurate now <a href="https://api.backdropcms.org/adding-theme-settings-advanced">https://api.backdropcms.org/adding-theme-settings-advanced</a></p>
</blockquote>



<a name="200227587"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200227587" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200227587">(Jun 09 2020 at 13:35)</a>:</h4>
<p>Though accurate, my thinking is that it is wrong; we should not be promoting the shortcut in core, nor our docs</p>



<a name="200227943"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200227943" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200227943">(Jun 09 2020 at 13:37)</a>:</h4>
<p>More complex settings would look a bit strange if there were full functions mixed in with the form elements on the page</p>



<a name="200228034"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200228034" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200228034">(Jun 09 2020 at 13:38)</a>:</h4>
<p>If you had a submit function and some validation and some other helper functions for example</p>



<a name="200228097"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200228097" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200228097">(Jun 09 2020 at 13:38)</a>:</h4>
<p>I think core should demonstrate what is best practice and what is possible, not the shortcuts</p>



<a name="200228197"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200228197" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200228197">(Jun 09 2020 at 13:39)</a>:</h4>
<p>So as per the issue I posted, I feel we should switch core themes to implement the hook instaed.</p>



<a name="200228200"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200228200" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200228200">(Jun 09 2020 at 13:39)</a>:</h4>
<p><a href="https://github.com/backdrop/backdrop-issues/issues/4438">https://github.com/backdrop/backdrop-issues/issues/4438</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/backdrop/backdrop-issues/issues/4438" style="background-image: url(https://avatars3.githubusercontent.com/u/5283039?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/backdrop/backdrop-issues/issues/4438" title="Use hook_form_system_theme_settings_alter() for theme settings · Issue #4438 · backdrop/backdrop-issues">Use hook_form_system_theme_settings_alter() for theme settings · Issue #4438 · backdrop/backdrop-issues</a></div><div class="message_embed_description">Description of the bug Backdrop themes which provide a theme-settings.php have form elements in that file outside of a function definition. This seems unique to Backdrop, and is not a pattern seen ...</div></div></div>



<a name="200254589"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200254589" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Herb <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200254589">(Jun 09 2020 at 16:21)</a>:</h4>
<p>I don't have a strong opinion about this. I can see pros/cons to either way. A pro is that currently it might be easier to understand</p>



<a name="200262189"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/200262189" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> klonos <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#200262189">(Jun 09 2020 at 17:18)</a>:</h4>
<p>There's an <code>IMAGE</code> placeholder in the text (w/o any actual image though)</p>



<a name="220351222"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Theme%20settings/near/220351222" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> BWPanda <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Theme.20settings.html#220351222">(Dec 18 2020 at 09:32)</a>:</h4>
<p>Can someone please explain this to me? <a href="https://github.com/backdrop/backdrop-issues/issues/4814">https://github.com/backdrop/backdrop-issues/issues/4814</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/backdrop/backdrop-issues/issues/4814" style="background-image: url(https://avatars3.githubusercontent.com/u/5283039?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/backdrop/backdrop-issues/issues/4814" title="Why do theme settings need two separate default values? · Issue #4814 · backdrop/backdrop-issues">Why do theme settings need two separate default values? · Issue #4814 · backdrop/backdrop-issues</a></div><div class="message_embed_description">I&#39;m reading through Adding theme settings (advanced) in order to better understand theme settings (something which I rarely use/need), and am confused by this part near the end of that page: Se...</div></div></div>



{% endraw %}

<hr><p>Last updated: Apr 05 2021 at 23:47 UTC</p>