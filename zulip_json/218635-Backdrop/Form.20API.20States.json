[
    {
        "content": "<p>Using <code>#states</code>, is there a way to set a value for a text field based on what is selected in another field (radios)?</p>",
        "id": 190320933,
        "sender_full_name": "Laryn",
        "timestamp": 1583954523
    },
    {
        "content": "<p>I don't think so <span class=\"user-mention\" data-user-id=\"256573\">@Laryn</span></p>",
        "id": 190321047,
        "sender_full_name": "klonos",
        "timestamp": 1583954611
    },
    {
        "content": "<p>good question. I feel like it requires some direct JS manipulation</p>",
        "id": 190321066,
        "sender_full_name": "Herb",
        "timestamp": 1583954624
    },
    {
        "content": "<p>...<code>#states</code> allows only to set a specific set of attributes/properties, but cannot effect the default value.</p>",
        "id": 190321138,
        "sender_full_name": "klonos",
        "timestamp": 1583954648
    },
    {
        "content": "<p>(AFAIK)</p>",
        "id": 190321151,
        "sender_full_name": "klonos",
        "timestamp": 1583954657
    },
    {
        "content": "<p>You can only set:</p>\n<div class=\"codehilite\"><pre><span></span>enabled\ndisabled\nrequired\noptional\nvisible\ninvisible\nchecked\nunchecked\nexpanded\ncollapsed\n</pre></div>\n\n\n<p>(i.e. no <code>value</code>)</p>",
        "id": 190321341,
        "sender_full_name": "BWPanda",
        "timestamp": 1583954784
    },
    {
        "content": "<p><a href=\"https://api.backdropcms.org/api/backdrop/core%21includes%21common.inc/function/backdrop_process_states/1\" target=\"_blank\" title=\"https://api.backdropcms.org/api/backdrop/core%21includes%21common.inc/function/backdrop_process_states/1\">https://api.backdropcms.org/api/backdrop/core%21includes%21common.inc/function/backdrop_process_states/1</a></p>",
        "id": 190321353,
        "sender_full_name": "BWPanda",
        "timestamp": 1583954798
    },
    {
        "content": "<p>Doh. (Thanks.)</p>",
        "id": 190321446,
        "sender_full_name": "Laryn",
        "timestamp": 1583954875
    },
    {
        "content": "<p>Need AJAX for that</p>",
        "id": 190321498,
        "sender_full_name": "docwilmot",
        "timestamp": 1583954889
    },
    {
        "content": "<p>...I was about to point to <a href=\"https://github.com/backdrop/backdrop/blob/1.x/core/misc/states.js#L468\" target=\"_blank\" title=\"https://github.com/backdrop/backdrop/blob/1.x/core/misc/states.js#L468\">https://github.com/backdrop/backdrop/blob/1.x/core/misc/states.js#L468</a> but <span class=\"user-mention\" data-user-id=\"256607\">@BWPanda (Peter)</span>'s link is much better <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/backdrop/backdrop/blob/1.x/core/misc/states.js#L468\" style=\"background-image: url(https://avatars3.githubusercontent.com/u/5283039?s=400&amp;v=4)\" target=\"_blank\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/backdrop/backdrop/blob/1.x/core/misc/states.js#L468\" target=\"_blank\" title=\"backdrop/backdrop\">backdrop/backdrop</a></div><div class=\"message_embed_description\">Backdrop core code repository. Contribute to backdrop/backdrop development by creating an account on GitHub.</div></div></div>",
        "id": 190321509,
        "sender_full_name": "klonos",
        "timestamp": 1583954905
    },
    {
        "content": "<p>Going to have to leave this for someone else (or another day) then:<br>\n<a href=\"https://github.com/backdrop-contrib/special_menu_items/issues/1\" target=\"_blank\" title=\"https://github.com/backdrop-contrib/special_menu_items/issues/1\">https://github.com/backdrop-contrib/special_menu_items/issues/1</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/backdrop-contrib/special_menu_items/issues/1\" style=\"background-image: url(https://avatars1.githubusercontent.com/u/7720679?s=400&amp;v=4)\" target=\"_blank\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/backdrop-contrib/special_menu_items/issues/1\" target=\"_blank\" title=\"[UX] provide a &quot;Add non-linkable item&quot; and a &quot;Add separator item&quot; action links instead of special paths. · Issue #1 · backdrop-contrib/special_menu_items\">[UX] provide a \"Add non-linkable item\" and a \"Add separator item\" action links instead of special paths. · Issue #1 · backdrop-contrib/special_menu_items</a></div><div class=\"message_embed_description\">We currently require the user to enter either &lt;nolink&gt; or &lt;separator&gt; as path in order to create the supported special menu items. That is for users that already know how the module wor...</div></div></div>",
        "id": 190321635,
        "sender_full_name": "Laryn",
        "timestamp": 1583954991
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"256573\">@Laryn</span> you could use states to hide the path field (for text with no link) or both path and title field for separator, and just deal with the value in the submit function.</p>",
        "id": 190322937,
        "sender_full_name": "docwilmot",
        "timestamp": 1583955783
    },
    {
        "content": "<p>I was really needing to work on other things. But now I'm working on this again. ;)</p>",
        "id": 190323183,
        "sender_full_name": "Laryn",
        "timestamp": 1583955936
    },
    {
        "content": "<p>How do I hook into the submit function for this?<br>\n<a href=\"https://github.com/backdrop-contrib/special_menu_items/blob/issue-1/special_menu_items.module#L145-L182\" target=\"_blank\" title=\"https://github.com/backdrop-contrib/special_menu_items/blob/issue-1/special_menu_items.module#L145-L182\">https://github.com/backdrop-contrib/special_menu_items/blob/issue-1/special_menu_items.module#L145-L182</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/backdrop-contrib/special_menu_items/blob/issue-1/special_menu_items.module#L145-L182\" style=\"background-image: url(https://avatars1.githubusercontent.com/u/7720679?s=400&amp;v=4)\" target=\"_blank\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/backdrop-contrib/special_menu_items/blob/issue-1/special_menu_items.module#L145-L182\" target=\"_blank\" title=\"backdrop-contrib/special_menu_items\">backdrop-contrib/special_menu_items</a></div><div class=\"message_embed_description\">Enables creating placeholder and separator menu items. - backdrop-contrib/special_menu_items</div></div></div>",
        "id": 190323450,
        "sender_full_name": "Laryn",
        "timestamp": 1583956091
    },
    {
        "content": "<p><a href=\"/user_uploads/18319/uXrHb8S8IQpEvjEQrTf-1yLx/Screen-Shot-2020-03-11-at-2.51.53-PM.jpg\" target=\"_blank\" title=\"Screen-Shot-2020-03-11-at-2.51.53-PM.jpg\">Screen-Shot-2020-03-11-at-2.51.53-PM.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/18319/uXrHb8S8IQpEvjEQrTf-1yLx/Screen-Shot-2020-03-11-at-2.51.53-PM.jpg\" target=\"_blank\" title=\"Screen-Shot-2020-03-11-at-2.51.53-PM.jpg\"><img src=\"/user_uploads/18319/uXrHb8S8IQpEvjEQrTf-1yLx/Screen-Shot-2020-03-11-at-2.51.53-PM.jpg\"></a></div>",
        "id": 190323864,
        "sender_full_name": "Laryn",
        "timestamp": 1583956330
    },
    {
        "content": "<p>Depends if you're able to achieve what you want by adding your own submit function in addition to the existing one, or if you specifically need to change what happens in the existing submit function...</p>",
        "id": 190323962,
        "sender_full_name": "BWPanda",
        "timestamp": 1583956395
    },
    {
        "content": "<p>I think if I can adjust values before the default submit does its thing, it would work great.</p>",
        "id": 190324135,
        "sender_full_name": "Laryn",
        "timestamp": 1583956471
    },
    {
        "content": "<p>So add a custom submit function before the default one.</p>",
        "id": 190324170,
        "sender_full_name": "BWPanda",
        "timestamp": 1583956492
    },
    {
        "content": "<p>I realize that is probably something I should know how to do...</p>",
        "id": 190324218,
        "sender_full_name": "Laryn",
        "timestamp": 1583956517
    },
    {
        "content": "<p>Will do some research.</p>",
        "id": 190324251,
        "sender_full_name": "Laryn",
        "timestamp": 1583956534
    },
    {
        "content": "<p><code>  $form['#submit'][] = 'my_new_submit';</code></p>",
        "id": 190324350,
        "sender_full_name": "docwilmot",
        "timestamp": 1583956570
    },
    {
        "content": "<p>add that in <code>special_menu_items_form_menu_edit_item_alter()</code></p>",
        "id": 190324409,
        "sender_full_name": "docwilmot",
        "timestamp": 1583956608
    },
    {
        "content": "<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> Do I need to set a weight somehow?</p>",
        "id": 190324417,
        "sender_full_name": "Laryn",
        "timestamp": 1583956614
    },
    {
        "content": "<p>the alter should run first, IIRC</p>",
        "id": 190324480,
        "sender_full_name": "docwilmot",
        "timestamp": 1583956656
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"256757\">@docwilmot</span> ++</p>",
        "id": 190324505,
        "sender_full_name": "BWPanda",
        "timestamp": 1583956675
    },
    {
        "content": "<p><strong>docwilmot</strong> - Dragon Fire (Karma: 2)</p>",
        "id": 190324506,
        "sender_full_name": "Dragonbot",
        "timestamp": 1583956675
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"256573\">@Laryn</span> Sorry, didn't mean to leave you hanging there... I was searching for the right code to point you too, but <span class=\"user-mention\" data-user-id=\"256757\">@docwilmot</span> beat me to it <span aria-label=\"smile\" class=\"emoji emoji-263a\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 190324624,
        "sender_full_name": "BWPanda",
        "timestamp": 1583956724
    },
    {
        "content": "<p>No worries -- I appreciate all the help. <span class=\"user-mention\" data-user-id=\"256607\">@BWPanda (Peter)</span> ++ <span class=\"user-mention\" data-user-id=\"256757\">@docwilmot</span> ++</p>",
        "id": 190324712,
        "sender_full_name": "Laryn",
        "timestamp": 1583956778
    },
    {
        "content": "<p>(peter)** <img alt=\":drop_lounging:\" class=\"emoji\" src=\"https://zulip-avatars.s3.amazonaws.com/18319/emoji/images/14471.png\" title=\"drop lounging\"> <img alt=\":drop_lounging:\" class=\"emoji\" src=\"https://zulip-avatars.s3.amazonaws.com/18319/emoji/images/14471.png\" title=\"drop lounging\"> <img alt=\":drop_lounging:\" class=\"emoji\" src=\"https://zulip-avatars.s3.amazonaws.com/18319/emoji/images/14471.png\" title=\"drop lounging\"> <img alt=\":drop_lounging:\" class=\"emoji\" src=\"https://zulip-avatars.s3.amazonaws.com/18319/emoji/images/14471.png\" title=\"drop lounging\"> (Karma: 14)</p>",
        "id": 190324713,
        "sender_full_name": "Dragonbot",
        "timestamp": 1583956778
    },
    {
        "content": "<p>I would add it with <a href=\"https://www.php.net/manual/en/function.array-unshift\" target=\"_blank\" title=\"https://www.php.net/manual/en/function.array-unshift\">https://www.php.net/manual/en/function.array-unshift</a></p>",
        "id": 190327485,
        "sender_full_name": "oadaeh (Jason Flatt)",
        "timestamp": 1583958397
    },
    {
        "content": "<p>Unless Backdrop is different than Drupal, they're executed in the order in the array.</p>",
        "id": 190327561,
        "sender_full_name": "oadaeh (Jason Flatt)",
        "timestamp": 1583958445
    },
    {
        "content": "<p>Is this confirmed as a core bug? <a href=\"https://github.com/backdrop/backdrop-issues/issues/3489\" title=\"https://github.com/backdrop/backdrop-issues/issues/3489\">https://github.com/backdrop/backdrop-issues/issues/3489</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/backdrop/backdrop-issues/issues/3489\" style=\"background-image: url(https://avatars3.githubusercontent.com/u/5283039?s=400&amp;v=4)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/backdrop/backdrop-issues/issues/3489\" title=\"backdrop_process_states only works on lowest level of field in node form · Issue #3489 · backdrop/backdrop-issues\">backdrop_process_states only works on lowest level of field in node form · Issue #3489 · backdrop/backdrop-issues</a></div><div class=\"message_embed_description\">In a node form array, the actual field array of type &quot;#text&quot; is located at something like &quot;field_name[und][0][#value]&quot;. All the documentation of backdrop_process_states() descri...</div></div></div>",
        "id": 193502339,
        "sender_full_name": "Laryn",
        "timestamp": 1586462665
    },
    {
        "content": "<p>(I was going to try to give some polish to a few partially ported modules that I've seen mentioned recently, but Conditional Fields seems blocked by that issue above: <a href=\"https://github.com/backdrop-contrib/conditional_fields/issues/5\" title=\"https://github.com/backdrop-contrib/conditional_fields/issues/5\">https://github.com/backdrop-contrib/conditional_fields/issues/5</a> )</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/backdrop-contrib/conditional_fields/issues/5\" style=\"background-image: url(https://avatars1.githubusercontent.com/u/7720679?s=400&amp;v=4)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/backdrop-contrib/conditional_fields/issues/5\" title=\"List field dependee with list field dependents only works when fields are in individual fieldsets · Issue #5 · backdrop-contrib/conditional_fields\">List field dependee with list field dependents only works when fields are in individual fieldsets · Issue #5 · backdrop-contrib/conditional_fields</a></div><div class=\"message_embed_description\">Have this set up on a content type that has a term reference field as the dependee, and 16 fields that are dependent upon it based on which selection is made. Each field becomes visible when the de...</div></div></div>",
        "id": 193502429,
        "sender_full_name": "Laryn",
        "timestamp": 1586462722
    }
]