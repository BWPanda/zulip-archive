---
layout: archive
title: Zulip Chat Archive
permalink: /stream/218635-Backdrop/topic/Preprocess.20hero.20block.html
---

<h2>Stream: <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/index.html">Backdrop</a></h2>
<h3>Topic: <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Preprocess.20hero.20block.html">Preprocess hero block</a></h3>

<hr>

<base href="backdrop.zulipchat.com">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="201849835"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Preprocess%20hero%20block/near/201849835" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> indigoxela <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Preprocess.20hero.20block.html#201849835">(Jun 24 2020 at 13:56)</a>:</h4>
<p>Is there a way to preprocess a hero block? Can't seem to get it working. layout.theme.inc claims that <code>template_preprocess_block__layout__hero()</code> would work but that's never called at all.</p>
<p>As an example:</p>
<div class="codehilite"><pre><span></span><code>function MYTHEME_preprocess_block__layout__hero(&amp;$variables) {
  die(&#39;this runs&#39;);/* it doesn&#39;t */
}
</code></pre></div>


<p><a href="https://github.com/backdrop/backdrop/blob/045e765a54bb9de29ef6ce44ffaa0a5c70938408/core/modules/layout/layout.theme.inc#L403">https://github.com/backdrop/backdrop/blob/045e765a54bb9de29ef6ce44ffaa0a5c70938408/core/modules/layout/layout.theme.inc#L403</a></p>
<p>It seems template_preprocess_block() only works for legacy blocks.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/backdrop/backdrop/blob/045e765a54bb9de29ef6ce44ffaa0a5c70938408/core/modules/layout/layout.theme.inc#L403" style="background-image: url(https://avatars3.githubusercontent.com/u/5283039?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/backdrop/backdrop/blob/045e765a54bb9de29ef6ce44ffaa0a5c70938408/core/modules/layout/layout.theme.inc#L403" title="backdrop/backdrop">backdrop/backdrop</a></div><div class="message_embed_description">Backdrop core code repository. Contribute to backdrop/backdrop development by creating an account on GitHub.</div></div></div>



<a name="201851647"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Preprocess%20hero%20block/near/201851647" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> indigoxela <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Preprocess.20hero.20block.html#201851647">(Jun 24 2020 at 14:10)</a>:</h4>
<p>UPDATE: silly me! It was a setting via ui that prevented the hook from working. Everything's fine <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="201859409"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Preprocess%20hero%20block/near/201859409" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Herb <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Preprocess.20hero.20block.html#201859409">(Jun 24 2020 at 15:04)</a>:</h4>
<p>Huh, what setting is that?</p>



<a name="201863419"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Preprocess%20hero%20block/near/201863419" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> indigoxela <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Preprocess.20hero.20block.html#201863419">(Jun 24 2020 at 15:31)</a>:</h4>
<p>Configurable block style: style setting from contrib module (configurable_block_style) was set to "configurable".</p>



<a name="201864525"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Preprocess%20hero%20block/near/201864525" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Geoff St. Pierre (serundeputy) <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Preprocess.20hero.20block.html#201864525">(Jun 24 2020 at 15:40)</a>:</h4>
<p>huh; so that setting in that module prevents other themes/modules from using that hook ... prolly not a great pattern.</p>



<a name="201917695"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Preprocess%20hero%20block/near/201917695" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Herb <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Preprocess.20hero.20block.html#201917695">(Jun 24 2020 at 23:48)</a>:</h4>
<p>Nope. Maybe we need a new issue for this?</p>



<a name="201937097"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Preprocess%20hero%20block/near/201937097" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> indigoxela <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Preprocess.20hero.20block.html#201937097">(Jun 25 2020 at 06:46)</a>:</h4>
<p>It might be worth it. BTW, not only the contrib module prevents the preprocess hook, the "Dynamic" setting (core) does, too. The hook only seems to run when "Standard" is selected. I currently don't have the time to dig deeper, though...</p>



<a name="201973893"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Preprocess%20hero%20block/near/201973893" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Herb <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Preprocess.20hero.20block.html#201973893">(Jun 25 2020 at 14:10)</a>:</h4>
<p>Maybe just create an issue for core and leave it for someone else</p>



{% endraw %}

<hr><p>Last updated: Apr 05 2021 at 23:47 UTC</p>