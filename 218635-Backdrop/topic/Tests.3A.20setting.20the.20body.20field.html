---
layout: archive
title: Zulip Chat Archive
permalink: /stream/218635-Backdrop/topic/Tests.3A.20setting.20the.20body.20field.html
---

<h2>Stream: <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/index.html">Backdrop</a></h2>
<h3>Topic: <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Tests.3A.20setting.20the.20body.20field.html">Tests: setting the body field</a></h3>

<hr>

<base href="backdrop.zulipchat.com">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="231545318"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Tests%3A%20setting%20the%20body%20field/near/231545318" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bugfolder <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Tests.3A.20setting.20the.20body.20field.html#231545318">(Mar 23 2021 at 21:17)</a>:</h4>
<p>I'm trying to write a test where I create a new node, then select the 'Preview' button. I do this:</p>
<div class="codehilite"><pre><span></span><code>    $this-&gt;backdropGet(&#39;node/add/&#39; . $this-&gt;content_type-&gt;type);
    $title = $this-&gt;randomName();
    $body = $this-&gt;randomName();
    $edit = array(
      &#39;title&#39; =&gt; $title,
      &#39;body&#39; =&gt; $body,
    );
    $this-&gt;backdropPost(NULL, $edit, t(&#39;Preview&#39;));
</code></pre></div>
<p>When I run the test, I get an exception at that point: "FAIL: Failed to set field body to" (yes, there's nothing after the "to" in the exception message). Any tips/suggestions on how to make this work?</p>



<a name="231549385"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Tests%3A%20setting%20the%20body%20field/near/231549385" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> docwilmot <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Tests.3A.20setting.20the.20body.20field.html#231549385">(Mar 23 2021 at 21:49)</a>:</h4>
<p>the array keys in $edit must be the field element <em>name</em>, so for the body textarea,  <code>body[und][0][value]</code>.</p>



<a name="231550058"></a>
<h4><a href="backdrop.zulipchat.com#narrow/stream/218635-Backdrop/topic/Tests%3A%20setting%20the%20body%20field/near/231550058" class="zl"><img src="https://bwpanda.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bugfolder <a href="https://bwpanda.github.io/zulip-archive/stream/218635-Backdrop/topic/Tests.3A.20setting.20the.20body.20field.html#231550058">(Mar 23 2021 at 21:54)</a>:</h4>
<p>Got it, thanks!</p>



{% endraw %}

<hr><p>Last updated: Apr 05 2021 at 23:47 UTC</p>